"use strict";function setupToggleNav(){var t=document.getElementById("primary-menu");navigationMenuToggle(t),document.addEventListener("click",function(e){t.contains(e.target)||closeAllMenus(t)})}function closeAllMenus(e){e.querySelectorAll("button[aria-expanded=true]").forEach(function(e){e.parentNode.dataset.open="false",e.setAttribute("aria-expanded","false")})}function focusFirstOption(e){e.querySelector("a").focus()}function findNextMenuLink(n,e){var a=e.querySelectorAll("a"),t=a[0],e=a[a.length-1],r=document.activeElement;r!==t||38!==n.keyCode?r!==e||40!==n.keyCode?a.forEach(function(e,t){r===e&&(40===n.keyCode?a[t+1].focus():38===n.keyCode&&a[t-1].focus())}):t.focus():e.focus()}function navigationMenuToggle(n){var e=n.querySelectorAll("[data-children=true]");Array.prototype.forEach.call(e,function(t,e){t.querySelector("button").addEventListener("click",function(e){return"true"===this.parentNode.dataset.open?(this.parentNode.dataset.open="false",this.setAttribute("aria-expanded","false")):(closeAllMenus(n),this.parentNode.dataset.open="true",this.setAttribute("aria-expanded","true")),focusFirstOption(this.parentNode),!1}),t.querySelector("button").addEventListener("keyup",function(e){return 40===e.keyCode&&(e.preventDefault(),"true"===this.parentNode.dataset.open?(this.parentNode.dataset.open="false",this.setAttribute("aria-expanded","false")):(closeAllMenus(n),this.parentNode.dataset.open="true",this.setAttribute("aria-expanded","true"),focusFirstOption(this.parentNode))),38===e.keyCode&&closeAllMenus(n),!1},!0),t.querySelectorAll("a").forEach(function(e){e.addEventListener("keydown",function(e){40!==e.keyCode&&38!==e.keyCode||(e.stopPropagation(),e.preventDefault(),findNextMenuLink(e,t))}),e.addEventListener("keyup",function(e){27===e.keyCode&&(closeAllMenus(n),t.querySelector("button").focus())})})})}jQuery(function(n){n(".menu-toggle").click(function(){}),n(".menu-item-has-children > .submenu-expand").click(function(e){n(this).toggleClass("expanded"),e.preventDefault()}),n(".search-toggle").click(function(){n(".menu-toggle, .nav-menu").removeClass("active"),n(".search-toggle, .header-search").toggleClass("active"),n(".site-header .search-field").focus()});var e=new AddSearchClient("3145819e621ccfb6dbf5116b2c92967b"),t={searchResultsPageUrl:"/",searchParameter:"addsearch",updateBrowserHistory:!1},a=new AddSearchUI(e,t);a.searchField({autofocus:!1,containerId:"searchfield",placeholder:"Search",icon:!1}),new AddSearchUI(e,t).searchField({autofocus:!1,containerId:"mobile-searchfield",placeholder:"Search",icon:!1}),a.start(),function(a,o,r){function t(e){for(var t=e+"=",n=decodeURIComponent(o.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}a.Enercare={},a.Enercare.PPCparams=[{utm_source:"utm_source"},{utm_medium:"utm_medium"},{utm_campaign:"utm_campaign"}],a.Enercare.getUrlParameter=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]".concat(e,"=([^&#]*)")).exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},a.Enercare.logPPCParamsToStorage=function(){a.Enercare.PPCparams.forEach(function(e){var t=Object.keys(e)[0],e=e[t];sessionStorage[t]||(sessionStorage[t]=a.Enercare.getUrlParameter(e))})},a.Enercare.handleHiddenFormFields=function(n){var e;n.VendorCookieID===r?((e=o.createElement("input")).setAttribute("type","hidden"),e.setAttribute("name","ruid"),e.setAttribute("value",t("ruid")),n.appendChild(e)):n.VendorCookieID.setAttribute("value",t("ruid")),a.Enercare.PPCparams.forEach(function(e){var t=Object.keys(e)[0];n.key===r?((e=o.createElement("input")).setAttribute("type","hidden"),e.setAttribute("name",t),e.setAttribute("value",sessionStorage[t]),n.appendChild(e)):n.key.setAttribute("value",sessionStorage[t])})},a.Enercare.logPPCParamsToStorage();var e=n(".gform_wrapper form");e.length&&a.Enercare.handleHiddenFormFields(e[0])}(window,document)}),window.addEventListener("load",setupToggleNav),jQuery(function(n){function e(e){var t=null;try{t=n(e)}catch(e){return}(t=t.length?t:n("[name="+this.hash.slice(1)+"]")).length&&(e=0,"fixed"==n(".site-header").css("position")&&(e=n(".site-header").height()),n("body").hasClass("admin-bar")&&(e+=n("#wpadminbar").height()),n("html,body").animate({scrollTop:t.offset().top-e},1e3))}window.location.hash&&e(window.location.hash),n('a[href*="#"]:not([href="#"]):not(.no-scroll)').click(function(){location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")&&location.hostname!=this.hostname||e(this.hash)})});